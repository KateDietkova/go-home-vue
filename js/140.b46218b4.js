"use strict";(self["webpackChunkgo_home"]=self["webpackChunkgo_home"]||[]).push([[140],{1438:function(t,e,r){r.d(e,{I:function(){return s},U:function(){return i}});var n=r(4161);const a=n.Z.create({baseUrl:"https://apt-booking-api.herokuapp.com"}),i=()=>a.get("https://apt-booking-api.herokuapp.com/apartments"),s=t=>a.get(`https://apt-booking-api.herokuapp.com/apartments/${t}`)},4034:function(t,e,r){r.d(e,{D6:function(){return i},F8:function(){return a},aO:function(){return s},q9:function(){return n}});const n=t=>({hasPassed:!!t,message:"This field shouldn't empty"}),a=t=>e=>({hasPassed:e.length<=t,message:"Number is out of limit"}),i=t=>({hasPassed:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t),message:"Incorrect email"}),s=t=>({hasPassed:/^(?=.*[A-Za-z])(?=.*[\d])[a-zA-Z0-9]{7,256}$/.test(t),message:"Password shoud contain one number and one character"})},8416:function(t,e,r){r.d(e,{Z:function(){return _}});var n=r(3396),a=r(2268);const i=["disabled","type"];function s(t,e,r,s,o,l){const u=(0,n.up)("CircleLoader");return(0,n.wg)(),(0,n.iD)("button",{disabled:r.loading,type:r.type,class:(0,a.C_)({btn:!0,"btn--outlined":r.outlined})},[r.loading?((0,n.wg)(),(0,n.j4)(u,{key:0,width:"38",height:"38",class:"btn__loader"})):(0,n.kq)("",!0),(0,n._)("span",{class:(0,a.C_)(["btn__content",l.contentStyles])},[(0,n.WI)(t.$slots,"default",{},void 0,!0)],2)],10,i)}const o=t=>((0,n.dD)("data-v-04ba32cc"),t=t(),(0,n.Cn)(),t),l={class:"circle-loader"},u=["width","height"],c=o((()=>(0,n._)("circle",{cx:"50",cy:"50",r:"40","stroke-width":"5",fill:"none"},null,-1))),d=[c];function p(t,e,r,i,s,o){return(0,n.wg)(),(0,n.iD)("span",l,[((0,n.wg)(),(0,n.iD)("svg",{class:"preloader-icon",viewBox:"0 0 100 100",width:r.width,height:r.height,style:(0,a.j5)(o.style)},d,12,u))])}var m={name:"CircleLoader",props:{width:{type:[Number,String],default:50},height:{type:[Number,String],default:50},color:{type:String,default:"#fff"}},computed:{style(){return`stroke: ${this.color};`}}},h=r(89);const g=(0,h.Z)(m,[["render",p],["__scopeId","data-v-04ba32cc"]]);var f=g,v={name:"ButtonOutlined",components:{CircleLoader:f},props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{contentStyles(){return{"btn__content--hidden":this.loading}}}};const y=(0,h.Z)(v,[["render",s],["__scopeId","data-v-3db67565"]]);var _=y},2343:function(t,e,r){r.d(e,{Z:function(){return c}});var n=r(3396),a=r(2268);const i={class:"star-rating"};function s(t,e,r,s,o,l){return(0,n.wg)(),(0,n.iD)("div",i,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.starLimit,(t=>((0,n.wg)(),(0,n.iD)("span",{key:t,class:"star star--outlined"})))),128)),(0,n._)("div",{class:"star-rating__colored",style:(0,a.j5)(l.ratingWidthStyle)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.starLimit,(t=>((0,n.wg)(),(0,n.iD)("span",{key:t,class:"star star--colored"})))),128))],4)])}var o={name:"StarRating",props:{rating:{type:Number,default:0},starLimit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.starLimit*100},ratingWidthStyle(){return`width: ${this.ratingWidth}%;`}}},l=r(89);const u=(0,l.Z)(o,[["render",s],["__scopeId","data-v-547bdcf2"]]);var c=u},9002:function(t,e,r){r.d(e,{Z:function(){return d}});var n=r(3396),a=r(2268);const i={class:"wrapper-input"},s={key:0,class:"custom-input__error"};function o(t,e,r,o,l,u){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("input",(0,n.dG)(t.$attrs,{onBlur:e[0]||(e[0]=(...t)=>u.blurHandler&&u.blurHandler(...t)),onInput:e[1]||(e[1]=(...t)=>u.handleInput&&u.handleInput(...t)),class:["custom-input",!l.isValid&&"custom-input--error"]}),null,16),l.isValid?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",s,(0,a.zw)(l.error),1))])}var l={name:"CustomInput",data(){return{isValid:!0,error:"",isFirstInput:!0}},inject:{form:{default:null}},props:{errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]},value:{type:String,default:""}},watch:{value(t){this.isFirstInput||this.validate(t)}},mounted(){this.form&&this.form.registerInput(this)},beforeUnmount(){this.form&&this.form.unRegisterInput(this)},methods:{handleInput(t){this.$emit("input",t.target.value)},validate(t){this.isValid=this.rules.every((e=>{const{hasPassed:r,message:n}=e(t);return r||(this.error=n||this.errorMessage),r}))},reset(){this.isFirstInput=!0,this.isValid=!0,this.$emit("input",this.isFirstInput)},blurHandler(){this.isFirstInput&&this.validate(),this.isFirstInput=!1}}},u=r(89);const c=(0,u.Z)(l,[["render",o],["__scopeId","data-v-e39d0972"]]);var d=c},2919:function(t,e,r){r.d(e,{Z:function(){return u}});var n=r(3396);const a={class:"section-spacer"};function i(t,e,r,i,s,o){return(0,n.wg)(),(0,n.iD)("div",a,[(0,n.WI)(t.$slots,"default",{},void 0,!0)])}var s={name:"SectionSpacer"},o=r(89);const l=(0,o.Z)(s,[["render",i],["__scopeId","data-v-7e48a920"]]);var u=l},1140:function(t,e,r){r.r(e),r.d(e,{default:function(){return M}});var n=r(3396);const a={class:"homepage"},i={key:0,class:"text-not-found"};function s(t,e,r,s,o,l){const u=(0,n.up)("ApartmentFilterForm"),c=(0,n.up)("Container"),d=(0,n.up)("ApartmentsList"),p=(0,n.up)("SectionSpacer");return(0,n.wg)(),(0,n.iD)("main",a,[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"apartments-filter",onSubmit:l.filter},null,8,["onSubmit"])])),_:1}),l.filterApartments.length?((0,n.wg)(),(0,n.j4)(d,{key:1,items:l.filterApartments},null,8,["items"])):((0,n.wg)(),(0,n.iD)("p",i,"Not found"))])),_:1})])}const o={class:"apartments-list"};function l(t,e,r,a,i,s){const l=(0,n.up)("ApartmentsItem"),u=(0,n.up)("ContainerWrapper");return(0,n.wg)(),(0,n.j4)(u,null,{default:(0,n.w5)((()=>[(0,n._)("div",o,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.items,(({id:t,descr:e,rating:r,imgUrl:a,price:i})=>((0,n.wg)(),(0,n.j4)(l,{key:t,id:t,descr:e,rating:r,imgSrc:a,price:i},null,8,["id","descr","rating","imgSrc","price"])))),128))])])),_:1})}var u=r(2268);const c={class:"apartments-item"},d={class:"apartments-item__inner"},p=["src"],m={class:"apartments-item__content"},h={class:"apartments-item__description"},g={class:"apartments-item__rating"},f={class:"apartments-item__price"};function v(t,e,r,a,i,s){const o=(0,n.up)("StarRating"),l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",d,[(0,n._)("img",{src:r.imgSrc,alt:"",class:"apartments-item__photo"},null,8,p),(0,n._)("div",m,[(0,n._)("p",h,(0,u.zw)(r.descr),1),(0,n._)("div",g,[(0,n.Wm)(o,{rating:r.rating},null,8,["rating"])]),(0,n._)("div",f,"UAH "+(0,u.zw)(r.price),1),(0,n.Wm)(l,{to:{name:"apartments",params:{id:r.id},query:{name:"John"}},class:"apartments-item__link"},null,8,["to"])])])])}var y=r(2343),_={name:"ApartmentsItem",components:{StarRating:y.Z},props:{id:{type:String,required:!0},descr:{type:String,default:""},rating:{type:Number,default:0},price:{type:Number,required:!0},imgSrc:{type:String,default:""}}},b=r(89);const w=(0,b.Z)(_,[["render",v],["__scopeId","data-v-f11e482a"]]);var S=w,I=r(7449),k={name:"ApartmentsList",components:{ApartmentsItem:S,ContainerWrapper:I.Z},props:{items:{type:Array,default:()=>[]}}};const C=(0,b.Z)(k,[["render",l],["__scopeId","data-v-314e2794"]]);var Z=C,A=r(9242);function D(t,e,r,a,i,s){const o=(0,n.up)("CustomSelect"),l=(0,n.up)("CustomInput"),u=(0,n.up)("SubmitButton");return(0,n.wg)(),(0,n.iD)("form",{class:"form",onSubmit:e[2]||(e[2]=(0,A.iM)(((...t)=>s.handleSubmit&&s.handleSubmit(...t)),["prevent"]))},[(0,n.Wm)(o,{items:s.cities,class:"form__select",modelValue:i.city,"onUpdate:modelValue":e[0]||(e[0]=t=>i.city=t),onChange:s.handleSelectForm},null,8,["items","modelValue","onChange"]),(0,n.Wm)(l,{modelValue:i.price,"onUpdate:modelValue":e[1]||(e[1]=t=>i.price=t),placeholder:"Price, from",onInput:s.handleChangeInput,value:i.valueInput,errorMessage:"This field shouldn't empty",rules:s.rules},null,8,["modelValue","onInput","value","rules"]),(0,n.Wm)(u,{class:"form__submit",type:"submit"},{default:(0,n.w5)((()=>[(0,n.Uk)("Find house")])),_:1})],32)}var F=r(9002);const W=["value","selected"];function $(t,e,r,a,i,s){return(0,n.wg)(),(0,n.iD)("select",(0,n.dG)(t.$attrs,{onChange:e[0]||(e[0]=(...t)=>s.handleSelect&&s.handleSelect(...t)),class:"custom-select"}),[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.formatedItems,(t=>((0,n.wg)(),(0,n.iD)("option",{value:t.value,key:t.value,selected:t.selected},(0,u.zw)(t.label),9,W)))),128))],16)}var B={name:"CustomSelect",props:{items:{type:Array,required:!0}},computed:{formatedItems(){return this.items.map((t=>"object"===typeof t?t:{value:t,label:t}))}},methods:{handleSelect(t){this.$emit("change",t.target.value)}}};const N=(0,b.Z)(B,[["render",$],["__scopeId","data-v-4c42f047"]]);var V=N,L=r(8416),P=r(4034),z={name:"ApartmentFilterForm",components:{CustomInput:F.Z,CustomSelect:V,SubmitButton:L.Z},data(){return{price:"",city:"",valueInput:""}},computed:{rules(){return[P.q9,(0,P.F8)(10)]},cities(){return[{value:"",label:"City",selected:!0},"Kyiv","Odesa","Poltava","Kharkiv","Dnipro"]}},methods:{handleSubmit(){this.$emit("submit",{city:this.city,price:this.price})},handleChangeInput(t){var e,r;this.price=null===(e=t.target)||void 0===e?void 0:e.value,this.valueInput=null===(r=t.target)||void 0===r?void 0:r.value},handleSelectForm(t){this.city=t}}};const U=(0,b.Z)(z,[["render",D],["__scopeId","data-v-7dbebc95"]]);var j=U,q=r(2919),H=r(1438),K={name:"App",components:{ApartmentsList:Z,ApartmentFilterForm:j,Container:I.Z,SectionSpacer:q.Z},data(){return{apartments:[],text:"",filters:{city:"",price:0}}},computed:{filterApartments(){return this.filterByCityName(this.filterByPrice(this.apartments))}},async created(){try{const{data:t}=await(0,H.U)();this.apartments=t}catch(t){console.log(t)}},methods:{filter(t){t.type||(this.filters=t)},filterByCityName(t){return this.filters.city?t.filter((t=>t.location.city===this.filters.city)):t},filterByPrice(t){return this.filters.price?this.apartments.filter((t=>t.price>=Number(this.filters.price))):t}}};const x=(0,b.Z)(K,[["render",s]]);var M=x}}]);
//# sourceMappingURL=140.b46218b4.js.map